import pandas as pd
import numpy as np
tr        = "../Data/train.csv"
ts        = "../Data/test.csv"
train = pd.read_csv(tr)
test  = pd.read_csv(ts)
#wines = np.genfromtxt("./roo1.csv", delimiter=";", skip_header=1)
data = np.loadtxt(tr, delimiter=',', skiprows=1)
print(data.shape)
myu,sig = [],[]
for i in range(13):
    mean = np.mean(data[:,i])
    myu.append(mean)
    sigm = np.sum(np.square(data[:,i]-mean))/(data.shape[0]-1)
    sigm = sigm**0.5
    sig.append(sigm)
    data[:,i] = (data[:,i]-mean)/sigm
                                            
print(myu,sig) 
# Normalising the marks columns (1-9)
# [77.00318789848731, 76.99831228903614, 77.07569696212026, 77.11301412676585, 76.9541817727216, 77.0150018752344, 77.060320040005, 76.91061382672834, 76.93349168646081, 7.982810351293912, 5.002687835979497, 2.9814976872109016, 5.011063882985373] [10.071578660726848, 10.098653693844197, 10.137528173238477, 10.088164425588161, 10.018397202418788, 10.18533143324003, 10.095941558583263, 10.147262803951921, 10.104954123621479, 2.589937211725507, 2.582645138598079, 2.00846062099828, 2.5770012186958104]

for i in range(13):
    train.iloc[:,i] = (train.iloc[:,i] - myu[i])/sig[i]
    test.iloc[:,i] = (test.iloc[:,i] - myu[i])/sig[i]
    
with open(tr, 'w', encoding='utf-8') as f:
    train.to_csv(f, index=False)

with open(ts, 'w', encoding='utf-8') as f:
    test.to_csv(f, index=False)

'''(14960, 127)
[3.538464827147558e-17, 4.0965448502211656e-18, 6.358550050125897e-17, -9.119265057883639e-17, 3.4375354612725436e-17, 5.3908155420301716e-17, -2.208572006206194e-17, 6.032013866412615e-17, -6.964126245375982e-17, 7.981483957219251, 5.002272727272727, 2.973663101604278, 5.01096256684492, 5.0034090909090905] [0.12968305194585425, 0.1301145651728668, 0.13064756906598457, 0.12998569459503995, 0.12905078063573536, 0.13111348319724045, 0.12991448933079838, 0.13094977373043148, 0.13019354259642532, 8.390737667787361, 5.629052313358268, 3.5875043088162837, 5.634678245515114, 5.628535727745065]
'''